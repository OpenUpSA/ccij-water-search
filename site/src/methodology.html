<!DOCTYPE html>
<!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Thu Aug 20 2020 12:26:23 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="5f3b719c55e07480ab510243" data-wf-site="5f3a3c5c4d04ca6c107e7afe">
<head>
  <meta charset="utf-8">
  <title>OSISA Waterworld Search</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/extra.css" rel="stylesheet" type="text/css">
  <link href="css/osisa-waterworld-search.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>

  <script type="text/javascript">WebFont.load({  google: {    families: ["Barlow:300,regular,italic,600,700,800,900","Karla:regular,italic,700"]  }});</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-44046318-6"></script>
  <script type="text/javascript">window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-44046318-6', {'anonymize_ip': false});window.gtag = gtag;</script>
  <script src="https://kit.fontawesome.com/95e41092af.js" crossorigin="anonymous"></script>
</head>
<body>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-G8S3WM5GYW"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-G8S3WM5GYW');
  </script>
  <div data-w-id="d8f66561-e7d0-33b9-8b92-483975f7cd9d" style="opacity:0;-webkit-transform:translate3d(0, 20PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 20PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 20PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 20PX, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);display:none" class="feedback">
    <div id="feedback-positive" class="feedback-button feedback-button--positive">
      <div class="feedback-text">This tool is useful</div>
      <div class="fas fa-thumbs-up"></div>
    </div>
    <div id="feedback-nagative" class="feedback-button feedback-button--negative">
      <div class="feedback-text">This tool is not useful</div>
      <div class="fas fa-thumbs-down"></div>
    </div>
    <div id="feedback-dismiss" data-w-id="f8ee7def-2d20-e9b5-4680-31a3ed3c3a9d" class="feedback__dismiss">
      <div class="fa fa-times"></div>
    </div>
  </div>
  <div style="display:none;opacity:0;-webkit-transform:translate3d(0, 150%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-moz-transform:translate3d(0, 150%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);-ms-transform:translate3d(0, 150%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0);transform:translate3d(0, 150%, 0) scale3d(1, 1, 1) rotateX(0) rotateY(0) rotateZ(0) skew(0, 0)" class="feedback thanks">
    <div class="feedback-message">
      <div class="feedback-text">Thank you for your feedback!</div>
      <div class="far fa-smile"></div>
    </div>
  </div>
  <div data-collapse="medium" data-animation="default" data-duration="400" role="banner" class="nav w-nav">
    <div class="container container--nav">
      <a href="/" class="brand w-nav-brand">
        <h1 class="header-logo"><span class="text--primary">WATER</span> WORLD<span class="text--primary"></span></h1>
      </a>
      <nav role="navigation" class="nav-menu w-nav-menu"><a href="#" class="nav-link w-nav-link w--current">Methodology</a><a href="about.html" class="nav-link w-nav-link">About</a></nav>
      <div class="menu-button w-nav-button">
        <div class="w-icon-nav-menu"></div>
      </div>
    </div>
  </div>
    <div class="container content">
        <h1 class="hero-title">Methodology</h1>
    </div>
  <div class="container content">
    <h1>What data source did we use?</h1>
    <p>The news articles about South Africa water-related issues are extracted from two datasets from the GDELT project. <a href="https://www.gdeltproject.org/">GDELT</a> maintains a database of the world's news media in different languages. </p>
    <ol>
        <li>The articles data are extracted from <a href="https://blog.gdeltproject.org/gdelt-doc-2-0-api-debuts/">GDELT DOC 2.0 API</a>. This dataset includes basic information about news articles such as its URL, author, title, and publication date.</li>
        <li>The knowledge graph data are extracted from <a href="http://data.gdeltproject.org/documentation/GDELT-Global_Knowledge_Graph_Codebook-V2.pdf">GDELT Global Knowledge Graph 2.0</a>. The database is updated daily. The knowledge graph data connects every person, organization, location, count, theme, news source, and event across the planet into a single network. We are using the location and theme data from this dataset.</li>
    </ol>
    <p>We used the <a href="https://github.com/Cyclododecene/newsfeed">newsfeed library</a> to extract the Knowledge graph data and used the <a href="https://github.com/alex9smith/gdelt-doc-api">gdelt-doc-api library</a> to extract news articles data with Python.</p>

  </div>

  <div class="container content">
    <h1>How did we extract the data from the data source?</h1>
    <h2 class="lighter">DOC 2.0 API data (Articles data)</h2>
    <h3>Extraction</h3>
    <p>We extracted doc 2.0 API data which satisfies the following two criteria:</p>
    <ul>
        <li>The source of the article is a South African news outlet. </li>
        <li>The article contains at least one of the themes on our selected theme list listed below. We selected the following 15 themes related to water supply, sanitation and water security because there is a limit of one API request every 5 seconds. 
            <br>‘WB_2007_WATER_SAFETY_PLANS', 
            <br>'TAX_DISEASE_WATERBORNE_ILLNESS', 
            <br>'WB_991_DRAINAGE_WATER_QUALITY', 
            <br>'WB_1995_ENERGY_FOR_WATER_AND_WASTEWATER_TREATMENT', 
            <br>'WB_2978_WATER_POLLUTION_LOAD', 
            <br>'WB_1462_WATER_SANITATION_AND_HYGIENE', 
            <br>'WATER_SECURITY', 
            <br>'WB_1199_WATER_SUPPLY_AND_SANITATION', 
            <br>'WB_139_SANITATION_AND_WASTEWATER', 
            <br>'WB_138_WATER_SUPPLY', 
            <br>'WB_2008_WATER_TREATMENT', 
            <br>'WB_1798_WATER_POLLUTION', 
            <br>'WB_1063_WATER_ALLOCATION_AND_WATER_SUPPLY', 
            <br>'WB_149_WASTEWATER_TREATMENT_AND_DISPOSAL', 
            <br>'WB_2981_DRINKING_WATER_QUALITY_STANDARDS'
        </li>
    </ul>
    
    <h3>Result</h3>
    <p>The news articles data extracted from GDELT doc2.0 API for the period fromJan 1, 2017 to Apr 14, 2022  includes the following information </p>
    <ul>
        <li>URL</li>
        <li>Title</li>
        <li>Publish date</li>
        <li>Image url</li>
        <li>Domain of the news organization</li>
    </ul>
    
    <h2 class="lighter">Knowledge Graph data</h2>
    <h3>Extraction</h3>
    <p>We extracted knowledge graph data which satisfy the following two criteria:</p>
    <ul>
        <li>The source of the news article is from a South African media outlet. GDELT maintains a <a href="https://blog.gdeltproject.org/mapping-the-media-a-geographic-lookup-of-gdelts-sources/">dataset</a> of media in each country.</li>
        <li>Instead of focusing on dozens of water-related themes like in the article database, we extracted <a href="https://drive.google.com/file/d/1NUf0FWFk2xF8OysNvcXgtWsmDteunOjJ/view?usp=sharing">191 themes of interest to us</a> related to water, natural disaster, climate change, and other relevant topics. We chose a broad range of themes  for archiving purposes. The extraction process is relatively fast and yields data, so we could easily filter the information we extracted.</li>
    </ul>
    
    <h3>Result</h3>
    <p>The data extracted from GDELT knowledge graph dataset includes the following information:</p>
    <ul>
        <li>Date</li>
        <li>Themes of the article</li>
        <li>Locations mentioned in the article</li>
        <li>Person names mentioned in the article</li>
        <li>Organizations mentioned the in the article</li>
        <li>Domain of the news organization</li>
        <li>URL of the article</li>
    </ul>
    <p>We didn’t use the person names and organization names in the current data repository. Because of the fact that organization names are usually made of multiple words, it would require us to use a different methodology to implement the search functionality on these names, which we haven’t worked out currently. WHY NOT?</p>
    
    <h2 class="lighter">Merged Articles and Knowledge Graph Data</h2>
    <p>Merging the doc2.0 data with the knowledge graph data using the article URL yielded about 26,000 articles from the two datasets with all of the information mentioned above. Articles are deduplicated based on title.</p>
  </div>


  <div class="container content">
    <h1>Data Processing and Filtering</h1>
    <h2 class="lighter">Filter by content</h2>
    <p>We found many articles coded with water-related themes in the GDELT database that were not focused on water sanitation, water supply or water security. The article might contain relevant terms, but was not about water issues.  We needed to filter out these irrelevant articles. It’s hard to do that manually because of the volume of articles. As a result, we obtained further information for these articles and then filtered them with OpenAI.</p>
    
    <h3>Extracting article summaries and keywords</h3>
    <p>We used the Full-text downloader (built with newspaper3k and <a href="https://archive.org/help/wayback_api.php">Wayback Machine</a>) from the <a href="https://github.com/Cyclododecene/newsfeed">newsfeed library</a> to extract more detailed information for each article.</p>
    <p>These information includes the following elements: </p>
    <ul>
        <li>Article Full text</li>
        <li>Article summary</li>
        <li>Keywords of each article</li>
        <li>Authors of each article</li>

    </ul>
    
    <h3>Letting OpenAI decide whether this is an article of our interest</h3>
    <p>We categorized the articles from the two datasets using the criteria listed below.Then we gave the classification task to <a href="https://beta.openai.com/examples/">OpenAI</a>:</p>
    <ul>
        <li>Where the article summary includes the word “Water” in its summary</li>
        <li>Where the article summary doesn’t include the word “Water” in its summary</li>
    </ul>
    <center><img src="images/methodology-diagram.svg" alt="OpenAI Methodology Diagram" class="open-api-diagram"></center>
    <p>OpenAI charges by word fragments that they call “tokens.” Using title for the first round of classification for articles without the word “water” in its summary helped save on the cost.</p>
    <br>
    <h2 class="lighter">Filter by location</h2>
    <p>Although all of the articles were sourced from South Africa, the collection of articles included reports from all over the world. Since we are only interested in news articles about Africa, we needed to filter out only articles about Africa.</p>
    <p>Because most articles have multiple related locations, we needed to decide the country where the article is based.  We used the most frequently mentioned location in the Location column to determine this. We created a country label for each article based on this process. Where several locations are mentioned the same times, we put “Multiple” as the country label.</p>
    <ul>
        <li>Select articles with an African country label or “Multiple” label, and filter out all other articles</li>
    </ul>
    <p>This narrowed the collection of stories to about 5,000 water-related articles focused on African countries.</p>
    
    <h2 class="lighter">Adding OpenUp dataset</h2>
    <p>We added a dataset Open Up had collected of 800 water-related articles in Africa that included keywords and country. This led to a total of about 6,000 articles. </p>
    
    <h2 class="lighter">Creating keywords for summary index</h2>
    <ul>
        <li>Location and theme columns are broken down into single words</li>
        <li>These single words are concatenated into one column called “Summary” to make up the search index for our search engine.</li>
    </ul>
    
    <h2 class="lighter">Creating Article tags based on the themes</h2>
    <ul>
        <li>We manually filtered out water-related themes of all the themes of the articles we selected</li>
        <li>This allowed us to identify the most frequently occurring themes in the dataset. We further manually brought similar themes together.</li>
    </ul>
    <p>We used this list of 10 water-related themes as tags for each article.</p>
    <ol>
        <li>Water Sanitation</li>
        <li>Water Security</li>
        <li>Water Supply</li>
        <li>Wastewater</li>
        <li>Water Treatment</li>
        <li>Natural Disaster</li>
        <li>Urban Water</li>
        <li>Waterborne Diseases</li>
        <li>Rural Water</li>
        <li>Water Pricing</li>
    </ol>


  </div>
  <br>
  <br>
  <br>
  <br>


  <div class="footer">
    <div class="container">
      <div class="w-layout-grid footer-grid">
        <div id="w-node-b090edba82e0-ab510243" class="footer-column">
          <h1 class="footer-lgoo"><span class="text--primary">WATER</span><br>WORLD</h1>
        </div>
        <div class="footer-column">
          <div class="footer-logos"><img src="images/ccij-logo-black.png" srcset="images/ccij-logo-black-p-500.png 500w, images/ccij-logo-black.png 730w" sizes="(max-width: 479px) 52vw, 248.859375px" alt="" class="footer-logo ccij"><img src="images/openup-logo-white.svg" alt="" class="footer-logo openup"></div>
          <p class="footer-about">The water news reporting repository is a database of news articles related to water supply, security and sanitation in Africa extracted from the GDELT project. It's a joint project by Center for Collaborative Investigative Journalism and OpenUp.</p>
        </div>
      </div>
      <div class="footer-bottom">
        <div><a  class="footer-link" href="./data/africa_db.csv" download="article_data.csv" target="_blank">Download the data in CSV</a> <br>
          An opensource project built by <a href="https://openup.org.za/" class="footer-link">OpenUp</a> and <a href="https://ccij.io/" class="footer-link">CCIJ</a>. View on <a href="https://github.com/OpenUpSA/ccij-water-search" class="footer-link">GitHub</a>.<a href="" class="footer-link"></a>
        </div>
      </div>
    </div>
  </div>


</body>
</html>
